{"ast":null,"code":"var _jsxFileName = \"/media/karim/Data_SSD/Systeme_de_presence/client/src/components/knowledges/ReadDatabase.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport databaseApp from '../../config/firebaseConfig';\nimport { ref, onValue, remove, child } from \"firebase/database\";\nimport MaterialIcon from 'material-icons-react';\nimport IconButton from '@mui/material/IconButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ExperClass() {\n  _s();\n\n  const [db_list, setDb_list] = useState([]);\n\n  const init_db = () => {\n    onValue(ref(databaseApp, 'formation'), snapshot => {\n      let previousList = snapshot.val();\n      let list = [];\n\n      for (let id in previousList) {\n        list.push({\n          id,\n          ...previousList[id]\n        });\n      }\n\n      setDb_list(list);\n    });\n  };\n\n  useEffect(() => {\n    init_db();\n  }, []);\n\n  const deletdata = id => {\n    //const New_dbs = db_list.slice();\n    //console.log(\"ici\",id);\n    //const index = New_dbs.findIndex((New_db)=>{return New_db.id === id});\n    //console.log(index)\n    remove(child(ref(databaseApp), 'formation/' + id));\n  };\n  /* const updatedata= (id) =>{\n      //const New_dbs = db_list.slice();\n      //console.log(\"ici\",id);\n      //const index = New_dbs.findIndex((New_db)=>{return New_db.id === id});\n      //console.log(index) \n      set(child(ref(databaseApp), 'formation/'+id),{\n          date:Date,\n          formation:Formation,\n          ecole:Ecole\n      });   \n  }*/\n\n\n  return db_list && db_list.map(item => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [item.date, \" \", item.formation, \" \\xA0\", /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: deletdata.bind(this, item.id),\n          children: /*#__PURE__*/_jsxDEV(MaterialIcon, {\n            icon: \"delete_sweep\",\n            size: 25,\n            color: \"rgb(139, 0, 0)\",\n            invert: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [/*#__PURE__*/_jsxDEV(MaterialIcon, {\n          icon: \"school\",\n          size: 18,\n          color: \"#2a1d52\",\n          invert: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), \" \", item.ecole, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this);\n  });\n}\n\n_s(ExperClass, \"2rXo8aSHDlckMAUOQhJYH5ddvR0=\");\n\n_c = ExperClass;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExperClass\");","map":{"version":3,"sources":["/media/karim/Data_SSD/Systeme_de_presence/client/src/components/knowledges/ReadDatabase.js"],"names":["useEffect","useState","databaseApp","ref","onValue","remove","child","MaterialIcon","IconButton","ExperClass","db_list","setDb_list","init_db","snapshot","previousList","val","list","id","push","deletdata","map","item","date","formation","bind","ecole"],"mappings":";;;AAAA,SAASA,SAAT,EAAqBC,QAArB,QAAoC,OAApC;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,SAAQC,GAAR,EAAYC,OAAZ,EAAoBC,MAApB,EAA2BC,KAA3B,QAAuC,mBAAvC;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AACA,eAAe,SAASC,UAAT,GAAsB;AAAA;;AAEjC,QAAM,CAACC,OAAD,EAASC,UAAT,IAAuBV,QAAQ,CAAC,EAAD,CAArC;;AACA,QAAMW,OAAO,GAAG,MAAK;AACjBR,IAAAA,OAAO,CAACD,GAAG,CAACD,WAAD,EAAc,WAAd,CAAJ,EAAiCW,QAAD,IAAY;AACjD,UAAIC,YAAY,GAAGD,QAAQ,CAACE,GAAT,EAAnB;AACA,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAI,IAAIC,EAAR,IAAcH,YAAd,EAA2B;AACzBE,QAAAA,IAAI,CAACE,IAAL,CAAU;AAACD,UAAAA,EAAD;AAAI,aAAGH,YAAY,CAACG,EAAD;AAAnB,SAAV;AACD;;AACDN,MAAAA,UAAU,CAACK,IAAD,CAAV;AAED,KARM,CAAP;AASH,GAVD;;AAWAhB,EAAAA,SAAS,CAAC,MAAI;AACVY,IAAAA,OAAO;AACV,GAFQ,EAEP,EAFO,CAAT;;AAGA,QAAMO,SAAS,GAAGF,EAAD,IAAO;AACpB;AACA;AACA;AACA;AACAZ,IAAAA,MAAM,CAACC,KAAK,CAACH,GAAG,CAACD,WAAD,CAAJ,EAAmB,eAAae,EAAhC,CAAN,CAAN;AACH,GAND;AAOA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACI,SACIP,OAAO,IACPA,OAAO,CAACU,GAAR,CAAaC,IAAD,IAAU;AAClB,wBACI;AAAA,8BACA;AAAA,mBACKA,IAAI,CAACC,IADV,OACiBD,IAAI,CAACE,SADtB,wBAEI,QAAC,UAAD;AAAY,UAAA,OAAO,EAAEJ,SAAS,CAACK,IAAV,CAAe,IAAf,EAAoBH,IAAI,CAACJ,EAAzB,CAArB;AAAA,iCACI,QAAC,YAAD;AAAc,YAAA,IAAI,EAAC,cAAnB;AAAkC,YAAA,IAAI,EAAE,EAAxC;AAA4C,YAAA,KAAK,EAAC,gBAAlD;AAAmE,YAAA,MAAM;AAAzE;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAOA;AAAA,gCAAI,QAAC,YAAD;AAAc,UAAA,IAAI,EAAC,QAAnB;AAA4B,UAAA,IAAI,EAAE,EAAlC;AAAsC,UAAA,KAAK,EAAC,SAA5C;AAAsD,UAAA,MAAM;AAA5D;AAAA;AAAA;AAAA;AAAA,gBAAJ,OAAqEI,IAAI,CAACI,KAA1E;AAAA;AAAA;AAAA;AAAA;AAAA,cAPA;AAAA,OAAUJ,IAAI,CAACJ,EAAf;AAAA;AAAA;AAAA;AAAA,YADJ;AAYH,GAbD,CAFJ;AAiBH;;GApDuBR,U;;KAAAA,U;AAoDvB","sourcesContent":["import { useEffect , useState} from 'react';\nimport databaseApp from '../../config/firebaseConfig';\nimport {ref,onValue,remove,child} from \"firebase/database\";\nimport MaterialIcon from 'material-icons-react';\nimport IconButton from '@mui/material/IconButton';\nexport default function ExperClass (){\n    \n    const [db_list,setDb_list] = useState([]);\n    const init_db = () =>{\n        onValue(ref(databaseApp, 'formation'), (snapshot)=>{\n          let previousList = snapshot.val();\n          let list = [];\n          for(let id in previousList){\n            list.push({id,...previousList[id]});\n          }\n          setDb_list(list);\n          \n        })\n    }\n    useEffect(()=>{\n        init_db()\n    },[]);   \n    const deletdata= (id) =>{\n        //const New_dbs = db_list.slice();\n        //console.log(\"ici\",id);\n        //const index = New_dbs.findIndex((New_db)=>{return New_db.id === id});\n        //console.log(index)\n        remove(child(ref(databaseApp), 'formation/'+id));   \n    }\n    /* const updatedata= (id) =>{\n        //const New_dbs = db_list.slice();\n        //console.log(\"ici\",id);\n        //const index = New_dbs.findIndex((New_db)=>{return New_db.id === id});\n        //console.log(index) \n        set(child(ref(databaseApp), 'formation/'+id),{\n            date:Date,\n            formation:Formation,\n            ecole:Ecole\n        });   \n    }*/\n    return(\n        db_list &&\n        db_list.map((item) => {\n            return(\n                <div key={item.id}> \n                <h4> \n                    {item.date} {item.formation} &nbsp;\n                    <IconButton onClick={deletdata.bind(this,item.id)}>\n                        <MaterialIcon icon=\"delete_sweep\" size={25} color=\"rgb(139, 0, 0)\" invert /> \n                    </IconButton> \n                </h4> \n                <h5><MaterialIcon icon=\"school\" size={18} color='#2a1d52' invert /> {item.ecole} </h5>\n                \n                </div>\n            )\n        })  \n    )\n}; \n"]},"metadata":{},"sourceType":"module"}